{"version":3,"file":"vue.js","sources":["../src/observe/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["export function observe(data) {\n    if (typeof data !== 'object' || data === null) return\n    Object.keys(data).forEach((key) => defineReactive(data, key, data[key]))\n}\nexport function defineReactive(target, key, value) {\n    observe(value) //对深层嵌套的对象也进行属性劫持\n    Object.defineProperty(target, key, {\n        get() {\n            console.log(`获取${key}属性，值为${value}`);\n            return value\n        },\n        set(newValue) {\n            console.log(`修改${key}属性，值为${newValue}`);\n            value = newValue\n        }\n    })\n}","import { observe } from \"./observe/index.js\"\n\nexport function initState(vm) {\n    const opts = vm.$options\n    if (opts.data) {\n        initData(vm)\n    }\n}\nexport function proxy(vm, target, key) {\n    Object.defineProperty(vm, key, {\n        get() {\n            return vm[target][key]\n        },\n        set(newValue) {\n            vm[target][key] = newValue\n        }\n    })\n}\nfunction initData(vm) {\n    let data = vm.$options.data\n    data = typeof data === 'function' ? data.call(vm) : data\n    vm._data = data\n    observe(data)\n    // 数据劫持\n    for (let key in data) {\n        proxy(vm, '_data', key)\n    }\n}","import { initState } from \"./state\"\n\nexport function initMixin(Vue) {\n    Vue.prototype._init = function (options) {\n        let vm = this\n        vm.$options = options\n        initState(vm)\n    }\n}\n","import { initMixin } from \"./init\"\n\nfunction Vue(options) {\n    this._init(options)\n}\ninitMixin(Vue)\nexport default Vue"],"names":["observe","data","Object","keys","forEach","key","defineReactive","target","value","defineProperty","get","console","log","set","newValue","initState","vm","opts","$options","initData","proxy","call","_data","initMixin","Vue","prototype","_init","options"],"mappings":"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"}