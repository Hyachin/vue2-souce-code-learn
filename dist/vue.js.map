{"version":3,"file":"vue.js","sources":["../src/observe/dep.js","../src/observe/watcher.js","../src/vdom/index.js","../src/lifecycle.js","../src/compiler/parse.js","../src/compiler/index.js","../src/observe/array.js","../src/observe/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["let id = 0\nclass Dep {\n    constructor() {\n        this.id = id++\n        // 属性的dep要收集watcher，这里存放着当前属性对应的watcher有哪些\n        this.subs = []\n    }\n    depend() {\n        // this.subs.push(Dep.target)\n        Dep.target.addDep(this) // 让watcher记住dep\n    }\n    addSub(watcher) {\n        this.subs.push(watcher)\n    }\n    notify() {\n        this.subs.forEach(watcher => watcher.update())\n    }\n}\nDep.target = null\nexport default Dep;","import Dep from './dep'\nlet id = 0\n\nclass Watcher {\n    constructor(vm, fn, options) {\n        this.id = id++\n        this.renderWatcher = options\n        this.getter = fn\n        this.deps = [] // 后续实现计算属性和一些清理工作需要用到\n        this.depsId = new Set()\n        this.get()\n    }\n    addDep(dep) { // 一个组件 对应着多个属性 重复的属性不需要记录\n        let id = dep.id\n        if (!this.depsId.has(id)) {\n            this.deps.push(dep)\n            this.depsId.add(id)\n            dep.addSub(this) // 让dep也记住watcher\n        }\n    }\n    get() {\n        Dep.target = this\n        this.getter() // 会去vm上取值\n        // 为什么要设置null？ 确保其只在模板中取值的时候才做依赖收集\n        Dep.target = null\n    }\n    update() {\n        console.log('update');\n        this.get() // 重新渲染\n    }\n}\nexport default Watcher","export function createElementVNode(vm, tag, data = {}, ...children) {\n    if (data == null) {\n        data = {}\n    }\n    let key = data.key\n    if (key) {\n        delete data.key\n    }\n    return vnode(vm, tag, key, data, children)\n}\nexport function createTextVNode(vm, text) {\n    return vnode(vm, undefined, undefined, undefined, undefined, text)\n}\n// vnode 和 ast 不一样\n// ast 做的是语法层面的转换 他描述的是语法本身 (可以描述js css html)\n// 虚拟dom 描述的dom元素,可以增加一些自定义属性(描述dom的)\n\nfunction vnode(vm, tag, key, data, children, text) {\n    return {\n        vm, tag, key, data, children, text\n    }\n}","import Watcher from './observe/watcher'\nimport { createElementVNode, createTextVNode } from './vdom/index'\nfunction createElm(vnode) {\n    let { tag, data, children, text } = vnode\n    if (typeof tag === 'string') {\n        vnode.el = document.createElement(tag)\n        patchProps(vnode.el, data)\n        children.forEach(child => {\n            vnode.el.appendChild(createElm(child))\n        })\n    } else {\n        vnode.el = document.createTextNode(text)\n    }\n    return vnode.el\n}\nfunction patchProps(el, props) {\n    for (let key in props) {\n        if (key === 'style') {\n            for (let styleName in props.style) {\n                el.style[styleName] = props.style[styleName]\n            }\n        } else {\n            el.setAttribute(key, props[key])\n        }\n    }\n\n}\n// patch既有初始化的功能 又有更新的功能\nfunction patch(oldVNode, vnode) {\n    const isRealElement = oldVNode.nodeType\n    if (isRealElement) {\n        const elm = oldVNode\n        const parentElm = elm.parentNode\n        let newElm = createElm(vnode)\n        parentElm.insertBefore(newElm, elm.nextSibiling)\n        parentElm.removeChild(elm)\n        return newElm\n    } else {\n        // diff算法\n    }\n}\nexport function initLifeCycle(Vue) {\n    Vue.prototype._update = function (vnode) {\n        const vm = this\n        const el = vm.$el\n        vm.$el = patch(el, vnode)\n    }\n    Vue.prototype._c = function () {\n        return createElementVNode(this, ...arguments)\n    }\n    Vue.prototype._v = function () {\n        return createTextVNode(this, ...arguments)\n    }\n    Vue.prototype._s = function (value) {\n        if (typeof value !== 'object') return value\n        return JSON.stringify(value)\n    }\n    Vue.prototype._render = function () {\n        const vm = this\n        return vm.$options.render.call(vm)\n    }\n}\nexport function mountComponent(vm, el) {\n    vm.$el = el\n    // 1.调用render方法产生虚拟节点 虚拟DOM\n    const updateComponent = () => {\n        vm._update(vm._render())\n    }\n    let watcher = new Watcher(vm, updateComponent, true) // true用于标识是一个渲染watcher\n    console.log(watcher);\n    // 2.根据虚拟DOM产生真实DOM\n\n    // 3.插入到el元素中\n}","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\nconst startTagOpen = new RegExp(`^<${qnameCapture}`)\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`)\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\nconst startTagClose = /^\\s*(\\/?)>/\nexport function parseHTML(html) {\n    const ELEMENT_TYPE = 1\n    const TEXT_TYPE = 3\n    const stack = []\n    let currentParent\n    let root\n\n    function createASTElement(tag, attrs) {\n        return {\n            tag,\n            type: ELEMENT_TYPE,\n            children: [],\n            attrs,\n            parent: null\n        }\n    }\n\n    function start(tag, attrs) {\n        let node = createASTElement(tag, attrs)\n        if (!root) {\n            root = node\n        }\n        if (currentParent) {\n            node.parent = currentParent\n            currentParent.children.push(node)\n        }\n        stack.push(node)\n        currentParent = node\n    }\n    function chars(text) {\n        text = text.replace(/\\s/g, '')\n        text && currentParent.children.push({\n            type: TEXT_TYPE,\n            text,\n            parent: currentParent\n        })\n    }\n    function end(tag) {\n        stack.pop()\n        currentParent = stack[stack.length - 1]\n    }\n    // 删除已匹配过的内容\n    function advance(n) {\n        html = html.substring(n)\n    }\n    function parseStartTag() {\n        const start = html.match(startTagOpen)\n        if (start) {\n            const match = {\n                tagName: start[1],\n                attrs: []\n            }\n            advance(start[0].length)\n            let attr, end;\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n                advance(attr[0].length)\n                match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] || true })\n            }\n            if (end) {\n                advance(end[0].length)\n            }\n            return match\n        }\n\n        // console.log(html);\n        return false\n    }\n    while (html) {\n        let textEnd = html.indexOf('<')\n        // 开始标签或结束标签\n        if (textEnd == 0) {\n            const startTagMatch = parseStartTag()\n            if (startTagMatch) {\n\n                start(startTagMatch.tagName, startTagMatch.attrs)\n                continue\n            }\n            let endTagMatch = html.match(endTag)\n            if (endTagMatch) {\n                end(endTagMatch[1])\n                advance(endTagMatch[0].length)\n                continue\n            }\n        }\n        if (textEnd > 0) {\n            let text = html.substring(0, textEnd)\n            if (text) {\n                chars(text)\n                advance(text.length)\n            }\n        }\n    }\n    return root\n}","import { parseHTML } from \"./parse\";\nfunction genProps(attrs) {\n    let str = ''\n    for (let i = 0; i < attrs.length; i++) {\n        let attr = attrs[i]\n        if (attr.name === 'style') {\n            let obj = {}\n            attr.value.split(';').forEach(item => {\n                let [key, value] = item.split(':')\n                key = key.trim()\n                value = value.trim()\n                obj[key] = value\n            })\n            attr.value = obj\n        }\n\n        str += `${attr.name}:${JSON.stringify(attr.value)},`\n\n    }\n    return `{${str.slice(0, -1)}}`\n}\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\nfunction gen(node) {\n    // 元素\n    if (node.type === 1) {\n        return codegen(node)\n    } else {\n        let text = node.text\n        // 普通文本\n        if (!defaultTagRE.test(text)) {\n            return `_v(${JSON.stringify(text)})`\n        } else {\n            // 带有{{}}的\n            let tokens = []\n            let match\n            defaultTagRE.lastIndex = 0\n            let lastIndex = 0\n            while (match = defaultTagRE.exec(text)) {\n                let index = match.index\n                if (index > lastIndex) {\n                    tokens.push(JSON.stringify(text.slice(lastIndex, index)))\n                }\n                tokens.push(`_s(${match[1].trim()})`)\n                lastIndex = index + match[0].length\n            }\n            if (lastIndex < text.length) {\n                tokens.push(JSON.stringify(text.slice(lastIndex)))\n            }\n            return `_v(${tokens.join('+')})`\n        }\n    }\n}\nfunction genChildren(children) {\n    return children.map(child => gen(child)).join(',')\n}\nfunction codegen(ast) {\n    // _c 创建元素\n    // _v 创建文本\n    // _s JSON.stringify\n    let children = ast.children && genChildren(ast.children)\n    let code = (\n        `_c('${ast.tag}',\n        ${ast.attrs.length > 0 ? genProps(ast.attrs) : 'null'}\n        ${ast.children.length ? `,${children}` : ''})`)\n\n    return code\n}\nexport function compileToFunction(template) {\n    let ast = parseHTML(template)\n    let code = codegen(ast)\n    code = `with(this){return ${code}}`\n    let render = new Function(code)\n    return render\n}","let oldArrayProto = Array.prototype\n// newArrayProto.__proto__ == oldArrayProto\nexport let newArrayProto = Object.create(oldArrayProto)\n\nlet methods = [\n    'push',\n    'pop',\n    'shift',\n    'unshift',\n    'splice',\n    'sort',\n    'reverse'\n]\nmethods.forEach(method => {\n    newArrayProto[method] = function (...args) {\n        console.log('method', method);\n        const result = oldArrayProto[method].call(this, ...args)\n        let inserted\n        let ob = this.__ob__\n        switch (method) {\n            case 'push':\n            case 'unshift':\n                inserted = args\n                break;\n            case 'splice':\n                inserted = args.slice(2)\n                break;\n            default:\n                break;\n        }\n        if (inserted) {\n            ob.observeArray(inserted)\n        }\n        return result\n    }\n})","import { newArrayProto } from \"./array\"\nimport Dep from \"./dep\"\n\nclass Observer {\n    constructor(data) {\n        Object.defineProperty(data, '__ob__', {\n            value: this,\n            enumerable: false\n        })\n        // data.__ob__ = this\n        if (Array.isArray(data)) {\n            data.__proto__ = newArrayProto\n            this.observeArray(data)\n        } else {\n            this.walk(data)\n        }\n    }\n    walk(data) {\n        Object.keys(data).forEach((key) => defineReactive(data, key, data[key]))\n    }\n    observeArray(data) {\n        data.forEach(item => observe(item))\n    }\n}\nexport function observe(data) {\n    if (typeof data !== 'object' || data === null) return\n    return new Observer(data)\n}\nexport function defineReactive(target, key, value) {\n    observe(value) //对深层嵌套的对象也进行属性劫持\n    let dep = new Dep()\n    Object.defineProperty(target, key, {\n        get() {\n            if (Dep.target) {\n                dep.depend()\n            }\n            // console.log(`获取${key}属性，值为${value}`);\n            return value\n        },\n        set(newValue) {\n            if (newValue === value) return\n            // console.log(`修改${key}属性，值为${newValue}`);\n            observe(newValue)\n            value = newValue\n            dep.notify() // 通知更新视图\n        }\n    })\n}","import { observe } from \"./observe/index.js\"\n\nexport function initState(vm) {\n    const opts = vm.$options\n    if (opts.data) {\n        initData(vm)\n    }\n}\nexport function proxy(vm, target, key) {\n    Object.defineProperty(vm, key, {\n        get() {\n            return vm[target][key]\n        },\n        set(newValue) {\n            vm[target][key] = newValue\n        }\n    })\n}\nfunction initData(vm) {\n    let data = vm.$options.data\n    data = typeof data === 'function' ? data.call(vm) : data\n    vm._data = data\n    observe(data)\n    // 数据劫持\n    for (let key in data) {\n        proxy(vm, '_data', key)\n    }\n}","import { mountComponent } from \"./lifecycle\"\nimport { compileToFunction } from \"./compiler/index\"\nimport { initState } from \"./state\"\n\nexport function initMixin(Vue) {\n    Vue.prototype._init = function (options) {\n        let vm = this\n        vm.$options = options\n        initState(vm)\n        if (options.el) {\n            vm.$mount(options.el)\n        }\n    }\n    Vue.prototype.$mount = function (el) {\n        const vm = this\n        let ops = this.$options\n        el = document.querySelector(el)\n        // 编译优先级： render>tamplate>el\n        if (!ops.render) {\n            let template = ops.template\n            if (!template && el) {\n                template = el.outerHTML\n            }\n            // 模板编译\n            if (template) {\n                const render = compileToFunction(template)\n                ops.render = render\n            }\n\n        }\n        // 组件的挂载\n        mountComponent(vm, el)\n    }\n}\n","import { initLifeCycle } from \"./lifecycle\"\nimport { initMixin } from \"./init\"\n\nfunction Vue(options) {\n    this._init(options)\n}\ninitMixin(Vue)\ninitLifeCycle(Vue)\nexport default Vue"],"names":["id","Dep","subs","target","addDep","watcher","push","forEach","update","Watcher","vm","fn","options","renderWatcher","getter","deps","depsId","Set","get","dep","has","add","addSub","console","log","createElementVNode","tag","data","key","children","vnode","createTextVNode","text","undefined","createElm","el","document","createElement","patchProps","child","appendChild","createTextNode","props","styleName","style","setAttribute","patch","oldVNode","isRealElement","nodeType","elm","parentElm","parentNode","newElm","insertBefore","nextSibiling","removeChild","initLifeCycle","Vue","prototype","_update","$el","_c","arguments","_v","_s","value","JSON","stringify","_render","$options","render","call","mountComponent","updateComponent","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","ELEMENT_TYPE","TEXT_TYPE","stack","currentParent","root","createASTElement","attrs","type","parent","start","node","chars","replace","end","pop","length","advance","n","substring","parseStartTag","match","tagName","attr","name","textEnd","indexOf","startTagMatch","endTagMatch","genProps","str","i","obj","split","item","trim","slice","defaultTagRE","gen","codegen","test","tokens","lastIndex","exec","index","join","genChildren","map","ast","code","compileToFunction","template","Function","oldArrayProto","Array","newArrayProto","Object","create","methods","method","args","result","inserted","ob","__ob__","observeArray","Observer","defineProperty","enumerable","isArray","__proto__","walk","keys","defineReactive","observe","depend","set","newValue","notify","initState","opts","initData","proxy","_data","initMixin","_init","$mount","ops","querySelector","outerHTML"],"mappings":"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"}